<html>

<head>
    <title>Contacts Page</title>
    <script type="text/javascript" src="js/code.js" onload="readCookie()"></script>
    <link href="css/login.css" rel="stylesheet">
</head>

<body id="contactsBody" onload="checkQueries()">
    <div class="popup-container" id="popup1">
        <form class="popup-content" action="javascript:addContact()">
        <h2>Add Contact</h2>
        <input type="text" id="ContactName" placeholder="Name" required><br />
        <input type="email" id="ContactEmail" placeholder="Email" required><br />
        <input type="tel" id="ContactPhone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="123-456-7890" required><br />
        <input  id="SaveContactAdd" type="submit" value="Add">
        <button class="close-btn" id="closePopup1">Close</button>
        </form>
    </div>
    <div class="popup-container" id="popup2">
        <form class="popup-content" action="javascript:updateContact()">
        <h2>Edit Contact</h2>
        <input type="text" id="ContactName2" placeholder="Name" required><br />
        <input type="email" id="ContactEmail2" placeholder="Email" required><br />
        <input type="tel" id="ContactPhone2" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="123-456-7890" required><br />
        <input  id="EditContact" type="submit" value="Update">
        <button class="close-btn" id="closePopup2">Close</button>
        </form>
    </div>
    <button type="button" id="signout" class="signOut" onclick="signOut();"> Sign Out </button>
    <div id="inner-body">
      <h1>Contacts List</h1>
        <div id="input-group">
            <input type="search" id="search" placeholder="Search Contacts">
            <button type="button" id="search-all" class="buttons" onclick="search('%');" onload="search('%');">Search All</button>
        </div>
        <span id="searchError"></span>
        <table id="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="contactsTableBody">
            </tbody>
        </table>
        <div id="pageRow">
            <button type="button" id="page-back" class="buttons" onclick="pageBack();"> Previous Page</button>
            <button type="button" id="page-for" class="buttons" onclick="pageForward();"> Next Page</button>
        </div>
        <div id="addContactDiv">
            <button type="button" id="openPopup1" class="buttons"> Add Contact </button>
        </div>
    </div>
</body>

<script>
    document.getElementById('search').addEventListener("keypress", function (e) {
        if (e.key == "Enter") {
            search(document.getElementById('search').value)
        }
    });

    //code for the popup elements
    // Get elements
    const popup = document.getElementById('popup1');
    const openPopupButton = document.getElementById('openPopup1');
    const closePopupButton = document.getElementById('closePopup1');

    // Open the popup
    openPopupButton.addEventListener('click', () => {
      popup.style.display = 'flex';
    });

    // Close the popup
    closePopupButton.addEventListener('click', () => {
      popup.style.display = 'none';
      document.getElementById('ContactName').value = "";
		  document.getElementById('ContactEmail').value = "";
		  document.getElementById('ContactPhone').value = "";
    });

    // Close the popup when clicking outside the content
    popup.addEventListener('click', (e) => {
      if (e.target === popup) {
        popup.style.display = 'none';
      }
    });
</script>

</html>
